---
cover: assets/img/covers/dont_panic.png
description: Information on what to do during a major incident.
---

重大インシデントに何をスべきかの情報です。
何が重大インシデントに該当するかは、[深刻度レベル](/before/severity_levels.md)を参考にしてください。

!!! note "ドキュメント化について"
    あなたの内部ドキュメントで、このページにに該当するドキュメントに重要なことが書かれているかを確認してください。
    たとえばWeb会議のURLや、Slackチャンネル、重要なチャットコマンドなど。
    たとえば以下のとおりです。

    <table class="custom-table" id="contact-summary">
      <thead>
      </thead>
      <tbody>
        <tr>
          <td><a href="#">#incident-chat</a></td>
          <td><a href="#">https://a-voip-provider.com/incident-call</a></td>
          <td><a href="#">+1 555 BIG FIRE</a> (+1 555 244 3473) / PIN: 123456</td>
        </tr>
        <tr>
          <td colspan="3" class="centered">Need an IC? Do <code>!ic page</code> in Slack</td>
        </tr>
        <tr>
          <td colspan="3"><em>For executive summary updates only, join <a href="#">#executive-summary-updates</a>.</em></td>
        </tr>
      </tbody>
    </table>

!!! warning "セキュリティインシデント？"
    もしセキュリティインシデントの場合は、[セキュリティインシデント対応](/during/security_incident_response.md) に従ってください。

## パニックにならないで

1. インシデントの通話とチャットに参加してください（リンクは後述します）
    * 誰でも通話やチャットに参加して、インシデントの様子を眺めたりフォローができます
    * もし参加したい場合は両方に参加スべきです。何らかの理由で両方に参加できない場合は、通話に参加してる特定の人に代理してもらってください。チャットルームでまばらな議論をするのは、かえって迷惑です。

1. 通話やチャットに参加して、適切だと思うコメントを残してください。ただし目の前の問題に関する議論をしてください。
    * もしあなたが内容領域専門家ではない場合、プライマリの内容領域専門家を通じて議論をしてみてください。多くの人が同時に議論すると圧倒されるので、可能なら通話で階層構造を維持すべきです。

1. インシデントコマンダーからの指示に従ってください
    * **通話にインシデントコマンダーがいない？**
        * Slackから手動 `!ic page` コマンドで呼び出してください。このコマンドは最初とバックアップのインシデントコマンダーを同時に呼び出します。
        * インシデントコマンダーを呼び出すのに躊躇しないでください。いないよりもいたほうが良いです。

## インシデントコマンダーのステップ

補佐 (Deputy) に支援をしてもらいながら、インシデントを可能な限りすばやく安全に解決します。
あなたの裁量で、専門家にタスクを委譲してください。

1. 通話とSlackで、あなたがインシデントコマンダーであることと、指名した補佐（通常はインシデントコマンダーのバックアップ）、書記をアナウンスしてください。

1. インシデントの明らかな原因を特定してください (最近の開発、トラフィックのスパイク、など)、そして関係する専門家に調査を移譲してください。
    * 通話でサービスの専門家に、解析の支援をするように言ってください。いつもではありませんが、彼らは迅速に原因を確定できるはずです。原因が明らかに鳴ってない場合は、インシデントコマンダーの判断に依田寝られます。サービスのオーナーと話し合い、彼らの知見を活用してください。

1. 調査と修復のアクションを特定してください（ロールバック、サービスの制限、など）、そしてそれらのアクションを関連するサービスの専門家に移譲してください。一般的には以下のことを行います（もちろん全てを網羅しません）。
    * **悪いデプロイ:** ロールバックする
    * **Webアプリケーションがスタックまたはクラッシュ:** ローリングリスタートをする
    * **大量のイベント:** 自動スロットリングが十分か確認し、そうでなければ手動で調整する
    * **データセンターの停止:** 自動で悪いデータセンターが外されてるかを確認し、そうでなければ強制的に恥ずる
    * **負荷がかかってないがサービスが劣化:** データを収集して（ヒープダンプなど）、ローリングリスタートを考慮する

1. 緊急のエスカレーションに関する補佐 (Deputy) からの助言に耳を傾け、外部に公開するかを判断します。また状況胃応じてカスタマー窓口に連絡します。
    * 外部に告知するかどうかは、インシデントコマンダーとしての裁量に任されます。もしわからない場合は外部に告知してください（疑わしい場合はツイートしてください）。

1. 自分の[管理範囲](/training/glossary.md#span-of-control)を把握しておきましょう。インシデント対応が大きくなったり、インシデントが複雑化している場合は、より効果的に対応できるよう[サブチームへの分割](/before/complex_incidents.md#spinning-off-sub-teams)を検討してください。

1. インシデントが解決したり、解決に向かっている場合は、インシデントが過ぎたことを告知して通話を終了します。これはインシデントに対してするべき作業がないということです。
 This usually indicates there's no more productive work to be done for the incident right now.
    * 残りの時間的に急がない議論をSlackに持っていきます
    * 外部にインシデントが終わったことを伝えるために、カスタマー窓口をフォローアップします
    * インシデント後の後処理を特定します
    * 根本的な原因の報告、分析をする必要があります

1. 通話を終えて[インシデント対応後](/after/after_an_incident.md)に従います

## 補佐 (Deputy) のステップ

必要に応じて、インシデントコマンダーをサポートします。

1. インシデントの状態を監視し、インシデントの緊急度が上がる場合、上がった場合にインシデントコマンダーに知らせます。

1. インシデントコマンダーからの指示に従います。

1. 通話が終了すると、[インシデント対応後](/after/after_an_incident.md)に従います

## 書記 (Scribe) のステップ

インシデントの主要な情報を、Slackに書き残します。

1. Slackルームで誰がインシデントコマンダーで、誰が補佐で、あなたが書記であることを更新します。
    * たとえば、"IC: Bob Boberson, Deputy: Deputy Deputyson, Scribe: Writer McWriterson"

1. 現在の状態を尋ねずとも確認できるよう、状態監視のBOTをスタートします
    * Officer URLはSlack上で状態を状態監視するのに役立ちます。
        * `!status` - 現在のステータスを知らせます
        * `!status stalk` - 監視を続けて、30秒ごとに結果をルームに報告します

1. 重要なアクションがとられたり調査結果が見つかった場合は、Slackにノートを追加します。インシデントコマンダーから直接待つ必要は無く、あなたの判断で大丈夫です。
    * 後でやることを `TODO` ノートとしてSlackのルームに残します。

1. インシデントコマンダーからの指示に従います。

1. 通話が終了すると、[インシデント対応後](/after/after_an_incident.md)に従います

## 内容領域専門家のステップ

インシデントの原因特定や、修復の提案及び評価をしてインシデントコマンダーをサポートし、修復を続けます。

1. グラフやログを解析してインシデントを調査します。全ての発見事項をインシデントコマンダーに報告します。
    * 原因に自信がなくても大丈夫です。調査と追加情報をインシデントコマンダーに提供し続けてください。

1. インシデントコマンダーに、解決のための全ての提案を報告します。どのように進めるかは彼らが決定し、指示があるまではどんな行動も起こさないでください。

1. インシデントコマンダーからの指示に従います。

1. 通話が終了すると、[インシデント対応後](/after/after_an_incident.md)に従います

## カスタマー窓口のステップ

インシデントに関するメッセージを外部に告知するために待機します。

1. 通話中に教えられた様々な情報から、ステータスページを更新したりTwitterで呟いたりします。

1. インシデントコマンダーからの指示に従います。

1. 通話が終了すると、[インシデント対応後](/after/after_an_incident.md)に従います

## 内部窓口のステップ

更新情報を社内のステークホルダーに提供し、必要に応じて社内の対応者を動員します。

1. インシデントコマンダーからの指示に従い、他の人を呼び出す準備をします。

1. 必要に応じて社内のステークホルダーにお知らせし、PagerDutyのインシデントの購読者に追加します。我々が事前に用意した "SEV-1ステークホルダー" と "SEV-2ステークホルダー" というチームが利用できます。

1. 幹部に向けて、Slackで定期的（だいたい30分ごと）に、現在の状態の概要をお知らせします。短く要点を抑えて `@here` を使います。

1. インシデントコマンダーからの指示に従います。

1. 通話が終了すると、[インシデント対応後](/after/after_an_incident.md)に従います
